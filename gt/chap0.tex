\chapter{???}

\Timestamp{2015-10-12}

\begin{conv}
    Standardmäßig sind Graphen $G(V, E)$ im Folgenden ungerichtet, ohne Mehrfachkanten und ohne Schleifen.
\end{conv}

In vielen Fällen (wie auch im Folgenden) stellt dies keine nennenswerte Einschränkung dar.

\begin{df}
    Der Grad eines Knotens ist
    \begin{math}
        d(x) = |\Set{y & xy \in E}|
    \end{math}
\end{df}

\begin{df}
    Ein \emphdef{Eulerkreis} ist ein Rundweg, der alle Kanten genau einmal durchläuft.
    Ein Eulerpfad von $a$ nach $b$ mit $a,b \in V$ ist ein Pfad von $a$ nach $b$, der alle Kanten genau einmal durchläuft.
\end{df}

\begin{ex}
    Haus vom Nikolaus
\end{ex}

\begin{df}
    Ein Graph $G = (V, E)$ ist zusammenhängend, wenn für $a,b \in V$ ein Pfad von $a$ nach $b$ existiert.
\end{df}


\begin{st}
    Sei $G = (V, E)$ zusammenhängend.
    Es gibt einen Eulerkreis in $G$ genau dann, wenn $\forall x \in V: d(x) \equiv 0 \bmod 2$.
    \begin{proof}
        Wähle ein $a \in V$ und start einen möglichst langen Pfad von $a$ nach $a$.
        Angenommen dies ist kein Eulerkreis, dann wurde eine ausgehende Kante von einem Knoten $b$ auf dem Pfad wurde nicht besucht.
        Von $b$ kann ein neuer Pfad gestartet werden.
        Kombiniert man beide, erhält man einen längeren Weg, also war der erste Pfad bereits ein Eulerkreis.

        Die andere Richtung ist trivial.
    \end{proof}
\end{st}

\begin{df}
    Ein Graph $G$ heißt \emphdef{plättbar}, wenn sich $G$ kreuzungsfrei in die Ebene zeichnen lässt.
    $G$ heißt \emphdef{planar}, falls er kreuzungsfrei in der Ebene eingebettet ist.
\end{df}

\begin{note}
    Zwei eingebettete Graphen können zwar abstrakt isomorph sein, jedoch nicht isotop zueinander.
\end{note}

\begin{st}[Eulerformel für planare Graphen]
    Sei $G(V, E)$ ein planarer Graph mit $z \in \N$ Zusammenhangskomponenten, $n := |V|$, $e := |E|$ und $f$ die Anzahl der Facetten.
    Dann gilt
    \begin{math}
        n - e + f = 1 + z.
    \end{math}
    \begin{proof}
        Für $e = 0$ ist $f = 1$ und die Aussage klar.
        Nehme eine Kante $xy$ hinzu und unterscheide folgende Fälle:
        \begin{enumerate}[1.]
            \item
                $xy$ verbindet 2 Kompontenten.
                In diesem Fall folgt $e \leadsto e + 1$, $f \leadsto f$ und $z \leadsto z - 1$.
            \item
                $xy$ verbindet $x$ und $y$ aus der selben Komponente.
                Wegen Planarität folgt $e \leadsto e + 1$, $f \leadsto f + 1$ und $z \leadsto z$.
        \end{enumerate}
    \end{proof}
\end{st}

\begin{kor}
    Für einen planaren, zusammenhängenden Graphen, dessen Facetten aus Polygonen mit mindestens $k$ Ecken bestehen, gilt
    \begin{math}
        (k - 2) e \le k(n - 2).
    \end{math}
    Insbesondere gilt für planare zusammenhängende Graphen
    \begin{enumerate}[i)]
        \item
            allgemein mit $k = 3$: $e \le 3n - 6$,
        \item
            für bipartite Graphen mit $k = 4$: $e \le 2n - 2$.
    \end{enumerate}
    \begin{proof}
        Aus einem Abzählargument erhalten wir $kf \le 2e$.
        Es folgt aus der Eulerformel
        \begin{math}
            2k = kn - ke + kf &\le kn - (k - 2)e
            \iff (k - 2)e &\le k(n - 2).
        \end{math}
    \end{proof}
\end{kor}

\begin{ex}
    \begin{itemize}
        \item
            $K_5$ ist nicht planar, denn
            \begin{math}
                10 \not\le 9 = 3\cdot 5 - 6.
            \end{math}
        \item
            $K_{3,3}$ ist nicht planar.
            $K_{3,3}$ erfüllt zwar
            \begin{math}
                9 \le 12 = 3 \cdot 6 - 6,
            \end{math}
            aber nicht
            \begin{math}
                9 \not\le 8 = 2 \cdot 4 - 4.
            \end{math}
    \end{itemize}
\end{ex}

\begin{st}
    Es existieren genau $5$ platonische Körper.
\end{st}

\begin{df}
    Ein \emphdef{Hamiltonkreis} in $G(V, E)$ ist ein Rundweg, der alle Knoten genau einmal besucht.
    \begin{note}
        Siehe auch das Traveling-Salesman-Problem.
    \end{note}
\end{df}

% Falsch
%\begin{st}
%    Falls es Knoten $x, y \in V$ mit $xy \not\in E$, aber $d(x) + d(y) \ge |V|$, dann gibt es einen Hamiltonkreis.
%\end{st}


\Timestamp{2015-10-15}

\begin{df}
    \begin{itemize}
        \item
            \emphdef{Adjazenzmatrix}: $A \in \Set{0,1}^{e \times e}$ mit
            \begin{math}
                A(i,y) = \begin{cases}
                    1 & \text{falls $ij \in E$}, \\
                    0 & \text{sonst}.
                \end{cases}                
            \end{math}
            \begin{itemize}
                \item
                    $A$ ungerichtet genau dann, wenn $A$ symmetrisch ist
                \item
                    $A$ enthällt $0$-en auf der Diagonale genau dann, wenn keine Schlingen vorhanden sind.
            \end{itemize}
        \item
            \emphdef{bipartite} Graphen: $V = A \dunion B$ und alle Kanten von $A$ nach $B$.

            \emphdef{vollständige} bipartite Graphen: $K_{m,n}$ mit $|A| = m$, $|B| = n$.
        \item
            \emphdef{vollständige} Graphen: $K_n = (V, \binom{V}{2})$.
        \item
            \emphdef{Teilgraph}, \emphdef{Untergraph}: $(V', E')$ von $(V, E)$ mit $V' \subset V$ und $E' \subset E$.

            \emphdef{induzierte Untergraphen}: $(V', E')$ in $(V, E)$ mit $V' \subset V$ und $E' = \Set{xy & x,y \in V', xy \in E}$.
            Notation $G(V,E) \leadsto G(V')$.
        \item
            \emphdef{Unterteilungsgraph}: Setze auf Kanten zwischen Knoten.
        \item
            \emphdef{Kreise}: Wege mit selben Start- und Endpunkt, Länge $\ge 3$
            $C_n$: Kreis mit $n$ Knoten.
        \item
            $G(V, E)$ ist ein \emphdef{Wald} genau dann, wenn es keine einfachen Kreise gibt.
            Ein \emphdef{Baum} ist ein zusammenhängender Wald.
        \item
            Ein Polygon ist ein kreuzungsfreier Polygonzug.
            Ein Polygon $P$ heißt \emphdef{sternförmig}, wenn es eine offene Menge $K$ im Polygon gibt und das Innere von $P$ gesehen werden.
    \end{itemize}
\end{df}

% FIXME: Definition: Sternförmiges Polygon mit \epsilon-Umgebung

\begin{st}[Farý-Wagner]
    Jeder plättbare Graph hat eine planare Einbettung, bei der alle Kanten Strecken sind.
    Sogar: alle inneren Facetten sind sternförmig.
    \begin{proof}
        Ohne Einschränkung $|V| \ge 4$, $G$ zusammenhängend, $d(x) \ge 3$ (Knoten mit $d \le 2$ können zum Schluss eingefügt werden) und alle Facetten sind Dreiecke.

        Induktiv von außen nach innen Facetten hinzunehmen.
        Invariante: das Innere ist sternförmig und die bisher konstruierte Einbettung ist induzierter Untergraph des Anfangsgraphens.

        Konstruiere neue Facette, diese muss einen neuen Punkt im Inneren besitzen (Induktionsannahme), lege diesen ins Innere der $\epsilon$-Umgebung.
        Der Rest bleibt sternförmig.
    \end{proof}
\end{st}

\begin{st}
    Sei $G = (V, E)$ ein Graph, der folgender Bedingung genügt:
    \begin{math}
        \forall x,y \in V: xy \not\in E \implies d(x) + d(y) \ge |V| \ge 3.
    \end{math}
    Dann existiert ein Hamiltonkreis.
    \begin{proof}
        Induktion über $|\binom{V}{2}| - |E|$.
        Sei $n = |V|$, dann ist $E = \binom{V}{2}$ genau dann, wenn $G = K_n$.
        Dann gibt es Hamiltonkreise.
        Betrachte jetzt einen Graphen $G$ und $x,y \in V$ mit $xy \not\in E$.
        Definieren $G' = (V, E')$ mit $E' = E \cup \Set{xy}$.
        Die Induktionsvoraussetzung für $G'$ ist erfüllt und es existiert ein Hamiltonkreis.
        Definiere
        \begin{math}
            N(x) &:= \Set{i \in \Set{1, \dotsc, n} & xv_{i+1} \in E}
            \subset \Set{1, \dotsc, n-1}, \\
            N(y) &:= \Set{i & yv_i \in E}
            \subset \Set{2, \dotsc, n-1}.
        \end{math}
        Es existiert ein $i \in N(x) \cap N(y)$, da $d(x) = |N(x)|$, $d(y) = |N(y)|$.
    \end{proof}
\end{st}


\Timestamp{2015-11-02}

Ein Baum ist ein nicht-leerer zusammenhängender Wald.
Ein Knoten $x$ ist ein \emphdef{Blatt}, wenn $d(x) \le 1$.

\begin{lem}
    Jeder endliche Baum hat Blätter.
    \begin{proof}
        Wähle $x_0 \in V$ als Wurzel.
        Alle Knoten verfügen über einen eindeutigen Pfad zur Wurzel hin.
        Knoten mit maximaler Distanz zur Wurzel sind Blätter.
    \end{proof}
\end{lem}

\begin{kor}
    Sei $T = (V, E)$ ein Baum mit $|V| = n$ hat $|E| = n-1$ Kanten.
\end{kor}

\begin{st}[Cayley-Formel]
    Sei $K_n = (V, \binom{V}{2})$ ein vollständiger Graph mit $n \ge 2$ Knoten.
    Dann gilt
    \begin{math}
        \Set{T \subset \binom{V}{2} & \text{$(V, T)$ ist Spannbaum} } = n^{n-2}.
    \end{math}
    \begin{proof}
        Wir identifizieren dazu jeden Spannbaum mit einer Knotenfolge der Länge $n-2$, dem sogenannten \emphdef{Prüfer-Code}.
        Ohne Einschränkung $V = \Set{1, \dotsc, n}$ mit linearer Ordnung.

        $n = 2$ klar, leere Folge.
        Definiere $\In(T) := \Set{x \in V & d(x) \ge 2}$.
        Dann gilt $\In(T) \neq V$ (Baum hat Blätter).
        Da $V$ linear geordnet ist, gibt es ein kleinstes Blatt $b_1 \in V \setminus \In(T)$.
        Es existiert genau ein $p_1$ mit $b_1p_1 \in E$, $p_1 \in \In(T)$ (da $n \ge 3$).
        Setze $V' := V \setminus \Set{b_1}$, $E' := E \setminus \Set{b_1p_1}$.
        Induktiv $\Set{p_1, \dotsc, p_{n-2}} = \In(V, T)$.
        Dies definiert induktiv den Prüfercode $c(T) := (p_1, p_2, \dotsc, p_{n-2})$.

        Injektivität: Sei $c(T_1) = c(T_2)$, so haben $T_1$ und $T_2$ die gleichen Blätter.
        Somit wurde $b_1$ in beiden Prüfer-Codes gleich gewählt, sowie $b_1 p_1 \in T_1 \cap T_2$ und induktiv damit $T_1 = T_2$.

        Surjektivität: Konstruktion eines Baumes zum Prüfer-Code.
    \end{proof}
\end{st}

\begin{note}
    Dies ist hilfreich für randomisierte Bäume.
    Interessante Fragestellungen für randomisierte Bäume:
    \begin{itemize}
        \item
            Anzahl Blätter
        \item
            Maximaler Knotengrad
        \item
            Anzahl Kanten
    \end{itemize}
\end{note}


\Timestamp{2015-11-05}


\section{Färbbarkeit von Graphen}

\begin{df}
    Sei $G = (V, E)$, $E \subset \binom{V}{2}$.
    Eine $k$-Färbung ist eine Abbildung $c: V \to \Set{1, \dotsc, k}$ mit
    \begin{math}
        xy \in E \implies c(x) \neq c(y).
    \end{math}
\end{df}

$G$ besitzt eine 2-Färbung genau dann, wenn $G$ bipartit ist.
Wir können kürzeste Wege in $\LandauO(|E| + |V|\log |V|)$ lösen (Dijkstra).
Dijkstra mit Weglängen 0, 1 kann feststellen, ob ein Graph 2-färbbar ist, dies ist sogar in Linearzeit möglich.

Reduktion auf bekannte NP-vollständige Probleme (3-SAT, NAE-SAT, etc.)

\begin{st}
    3-Färbbarkeit ist NP-vollständig.
    \begin{proof}
        NAE-SAT: $F = C_1 \land \dotsb \land C_m$ mit Klauseln $C_j = \tilde x_{1j} \lor \tilde x_{2j} \lor \dotsb \lor \tilde x_{n,j}$, wobei $\tilde x \in \Set{x, \_x}$ und einer Belegung $\sigma: \Set{x_1, \dotsc, x_n} = \Var(F) \to \B = \Set{0,1}$, $\sigma(F) = 1 = (1-\sigma)(F)$.

        Reduktion $\text{3-SAT} \le \text{NAE-SAT}$.
        Sei $F \in \text{3-KNF}$ (3-Konjuktive Normalform, s.o.).
        Wähle neue Variable hinzu und ersetze jede Klausel $C_j = (\tilde x_{1j} \lor \tilde x_{2j} \lor \tilde x_{3j})$ durch
        \begin{math}
            C_j = (\tilde x_{1j} \lor \tilde x_{2j} \lor \tilde x_{3j} \lor y).
        \end{math}
        und $F' = (C_1' \land \dotsb \land C_m')$.
        Sei $\sigma(F) = 1$.
        Setze $\sigma(y) = 0$, dann gilt $F' \in \text{NAE-SAT}$.

        Sei umgekehrt $F' \in \text{NAE-SAT}$ mit $\sigma(F') = (1-\sigma)(F') = 1$.
        Unterscheide die Fälle $\sigma(y) = 1$ und $\sigma(y) = 0$.
        Im ersten Fall ist $(1-\sigma)(y) = 0$, sonst mit Symmetrie.
        Also ohne Einschränkung $\sigma(y) = 0$.
        Es folgt notwendigerweise $\sigma(F) = 1$.

        $\text{3-NAE-SAT} = \text{NAE-SAT} \cap \text{3-KNF}$.
        Von 4 Variablen auf 3 Variablen pro Klausel.
        Setze für $C_j = (\tilde x_{1j} \lor \tilde x_{2j} \lor \tilde x_{3j} \lor \tilde x_{4j})$
        \begin{math}
            C_j' = (\tilde x_{1j} \lor \tilde x_{2j} \lor y_j) \land (\_y_{j} \lor \tilde x_{3j} \lor \tilde x_{4j})
        \end{math}
        Durch geeignete Wahl von $y_j$ ist $C_j'$ erfüllt genau dann, wenn $C_j$ erfüllt war.

        Konstruiere Graphen: Dreiecke bestehend aus den 3-Klauseln, und verbundenen Paaren $x_i, \_{x_i}$ (Belegungsvariablen), verbunden zu einer Wurzel.
        Verbinde immer $x_i$ mit $\_{x_i}$.

        Ist der Graph 3-färbbar, so ist ohne Einschränkung die Wurzel blau und die Variablen definieren eine gültige Belegung.

        Andere Richtung: Für eine erfüllte Belegung färbe die Dreiecke: zwangsläufig eins rot, eins grün, färbe den anderen blau.
    \end{proof}
\end{st}

\begin{st}
    Jeder planare Graph ist 5-färbbar.
    \begin{proof}
        In jedem planaren Graphen existiert ein $x \in V$ mit Grad $d(x) \le 5$ (Widerspruch mit Euler-Formel).
        Betrachte $G'$ mit $V' = V \setminus \Set x$, wobei $d(x) \le 5$.
        Dieser ist per Induktion 5-färbbar.
        Es kommt kein $K_5$ vor. Skizze: Pentagram um $x$.
        Ohne Einschränkung $ab \not\in E$, identifiziere $a$ und $b$ und färbe per Induktion.
        Also kann $x$ die verbleibende Farbe erhalten.
    \end{proof}
\end{st}



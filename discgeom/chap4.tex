\chapter{Schälbarkeit}

\Timestamp{2015-05-20}


\begin{df}
    Sei $K$ ein polytopaler Komplex mit homogener Dimension $d$ (d.h. jede Seite ist in einer $d$-dimensionalen Facette enthalten, auch “pure complex” genannt).
    $K$ heißt \emphdef{schälbar} (“shellable”), wenn eine Ordnung $F_1, \dotsc, F_s$ der Facetten von $K$ – genannt \emphdef{Schälung} – existiert, sodass $d = 0$ oder folgende Bedingungen erfüllt sind:
    \begin{enumerate}[i)]
        \item
            $\Boundary F_1$ ist schälbar und
        \item
            für jedes $2 \le j \le s$ existiert eine Schälung $G_1, \dotsc, G_r$ von $\Boundary F_j$, sodass $(\bigcup_{k=1}^{j-1} F_k) \cap F_j$ einen Anfang dieser Schälung bildet, d.h.
            \begin{math}
                \emptyset \neq \Big( \bigcup_{k=1}^{j-1} F_k \Big) \cap F_j = \bigcup_{k=1}^{l} G_k
            \end{math}
            für ein $1 \le k \le r$.
    \end{enumerate}
\end{df}

\begin{lem}
    Der Randkomplex eines Simplex $\Boundary \Delta_{d+1}$, $d \ge 0$ ist schälbar.
    Allgemeiner bildet jede Ordnung $F_1, \dotsc F_s$ der Facetten von $\Boundary \Delta_{d+1}$ eine Schälung.
    \begin{proof}
        Für $d = 0$ ist die Aussage klar.
        Für $d \ge 1$ sei $F_1, \dotsc, F_s$ eine beliebige Ordnung der Facetten von $\Delta_{d+1}$.
        $\Boundary F_1$ ist nach Induktionsvoraussetzung schälbar.
        Nun ist $L := (\bigcup_{k=1}^{j-1} F_k) \cap F_j$ nicht leer und besteht aus Simplizes der Dimension $d - 1$, ist also Teilkomplex von $\Boundary F_j$ mit homogener Dimension $d - 1$.
        Nach Induktionsvoraussetzung bildet jede beliebige Reihenfolge der Facetten von $\Boundary F_j$ eine Schälung dessen und insbesondere ist also $L$ der Anfang einer solchen.
    \end{proof}
\end{lem}

\begin{st}[Euler]
    Sei $P$ ein konvexes $d$-Polytop mit schälbarem Rand $\Boundary P$.
    Dann gilt mit $f_{-1}(P) = f_d(P) = 1$ die Euler-Gleichung
    \begin{math}
        \sum_{i=-1}^d (-1)^i f_i(P) = 0,
    \end{math}
    wobei $f_i$ die Anzahl der $i$-dimensionalen Seiten angibt.
    Alternativ gilt für die Euler-Charakteristik
    \begin{math}
        \chi(P) &= \sum_{i=0}^d (-1)^i f_i(P), \\
        \chi(\Boundary P) &= \sum_{i=0}^d (-1)^i f_i(\Boundary P) = 1 - (-1)^d.
    \end{math}
    \begin{proof}
        Bekannt ist für einen $j$-Simplex $S$, dass $\chi(S) = 1$ und $\chi(\Boundary S) = 1 - (-1)^j$.
        Wir verwenden die Additivität von $\chi$:
        \begin{math}
            \chi(A \cup B) + \chi(A \cap B) = \chi(A) + \chi(B),
        \end{math}
        solange $A, B, A \cap B$ Unterkomplexe von $A \cup B$ sind.

        Der Fall $d = 1$ ist trivial, für $d = 2$ ergibt sich $f_0 = f_1$ und $1 - (-1)^d = 0$.
        Die Behauptung gelte für $d - 1$.
        Sei $P$ ein $d$-Polytop mit Schälung des Randes $F_1, \dotsc, F_s$.
        \begin{math}
            \chi(F_1) &= \chi(\texp{$(d-1)$-Polytop}) = 1, \\
            \chi(F_1 \cup F_2) &= \chi(F_1) + \chi(F_2) - \chi(F_1 \cap F_2) \\
            &= 1 + 1 - 1 = 1.
        \end{math}
        Induktiv folgt
        \begin{math}
            \chi(F_1 \cup \dotsb \cup F_j) = 1
        \end{math}
        für alle $j < s$.
        Nun ist
        \begin{math}
            \chi(\Boundary P) &= \chi(F_1 \cup \dotsb \cup F_{s-1}) + \chi(F_s) - \chi(\underbrace{(F_1 \cup \dotsb \cup F_{s-1}) \cap F_s}_{=\Boundary F_{s}}) \\
            &=1 + 1 - (1 - (-1)^{d-1}) \\
            &=1-(-1)^{d}.
        \end{math}
    \end{proof}
\end{st}

\begin{st}[Brugesser-Mani, 1971] \label{thm:brugesser-mani}
    Sei $P \subset \R^d$ ein konvexes $d$-Polytop.
    Dann ist der Randkomplex $\Boundary P$ schälbar.
    \begin{proof}[konstruktiv]
        Wähle $y_0 \in \mathring P$ und $x_0 \not\in P$ und betrachte einene laufenden Punkt $x$ auf dem Strahl $l$ von $y_0$ nach $x_0$.
        \begin{enumerate}[1.]
            \item
                Der erste Durchstoßpunkt $x$ mit $\Boundary P$ trifft in eine Facette $F_1$.
                Ab da „sieht“ man $F_1$ von $x$ aus.
            \item
                Später trifft $x$ auf die affine Hülle einer zweiten Facette $F_2$.
                Ab da „sieht“ man $F_1$ und $F_2$.
            \item
                Man setzt dies für $x \to \infty$ bis zu $F_1, \dotsc, F_k$ fort.
            \item
                Für die restlichen $F_{k+1}, \dotsc, F_s$ inverser Prozess nachdem man (projektiv gedacht) $\infty$ durchschritten hat.
        \end{enumerate}
        $F_1, \dotsc, F_s$ bildet eine Schälung.
        $\Boundary F_j \cap (F_1 \cup \dotsb \cup F_{j-1})$ sind alle Facetten von $F_j$, die man von $l \cap \Aff(F_j)$ „sieht“. 
        Durch Induktion liefert die Reihenfolge dafür eine Schälung.
        Der Induktionsanfang ist trivial (Dimension $k = 0$ ist stets schälbar).
        \begin{note}
            Durch die Wahl der Geraden lässt sich $F_1$ und $F_s$ vorschreiben.
        \end{note}
    \end{proof}
\end{st}

\begin{kor}
    Für eine Schälung $F_1, \dotsc, F_s$ gemäß dem Beweis in \ref{thm:brugesser-mani} ist auch $F_s, \dotsc, F_1$ eine Schälung.
    %fixme: Gilt dies auch für alle Schälungen?
    \begin{proof}
        Umkehrung der Orientierung von $l$ im Beweis.
    \end{proof}
\end{kor}

\begin{ex}
    Schälung des Oktaeders:
    \begin{math}
        123, 126, 135, 156, 234, 246, 345, 456
    \end{math}
    Gemeinsamen Seiten mit dem Rest:
    \begin{math}
        3, 2, 2, 1, 2, 1, 1, 0
    \end{math}
    Gegenüberliegende Ecken:
    \begin{math}
        0, 1, 1, 2, 1, 2, 2, 3
    \end{math}
    Die Anzahl für $0, 1, 2, 3$ jeweils: $1, 3, 3, 1$ (Binomialkoeffizient).
    Diese Symmetrie ist typisch für simpliziale Polytope, siehe nächster Satz.
\end{ex}

\Timestamp{2015-06-03}

Wir setzen im folgenden einen simplizialen, schälbaren $(d-1)$-dimensionalen Komplex voraus (z.B. Randkomplex eines konvexen simplizialen $d$-Polytops $P$).
Facetten sind $d$-Tupel von Ecken.
Sei $F_1, \dotsc, F_s$ feste Schälung.
Idee: Alle Seiten aufbauen durch diese Schälung.

Wir definieren die Eckenmenge $R_j$ (restriction) durch
\begin{math}
    R_j = \Set{v \in F_j & \exists 1 \le i < j : F_j \setminus \Set{v} \subset F_i}.
\end{math}
Offenbar ist $R_1 = \emptyset$.

Wir behaupten: die neuen Seiten, die im $j$-ten Schritt durch $F_j$ hinzukommen sind genau
\begin{math}
    I_j := \Set{G & R_j \subset G \subset F_j}.
\end{math}
Für die erste Implikation sei $G$ eine neue Seite im $j$-ten Schritt und $v \in R_j \setminus G$, dann ist $G \subset F_j \setminus \Set{v} \subset F_i$ für ein $i < j$ und $G$ kann keine neue Seite gewesen sein.

Für die zweite Implikation sei $R_j \subset G \subset F_j$.
Angenommen $G$ kommt schon vorher vor $G \subset F_i$, $i <j$, dann existiert $F_l$ mit $l <j$, $G \subset F_l$ und
\begin{math}
    F_l \cap F_i = F_j \setminus w
\end{math}
für $l < j$, also $w \in R_j$.
Aber $R_j \subset G \subset F_l \cap F_j = F_j \setminus w$, ein Widerspruch.

Also enthält $I_j$ genau die neuen Seiten im $j$-ten Schritt.
$I_j$ enthält genau $\binom{d-|R_j|}{k-|R_j|}$ $k$-Tupel ($(k-1)$-Seiten).

Für die Anzahl aller $k$-Tupel gilt somit durch Summation
\begin{math}
    f_{k-1}
    = \sum_{j=1}^s \binom{d- |R_j|}{k-|R_j|}
    = \sum_{i=0}^k \binom{d-i}{k-i} h_i,
\end{math}
mit $h_i := \big|\Set{R_j & |R_j| = i}\big|$.

Wir definieren hierdurch den $h$-Vektor und den $f$-Vektor:
\begin{math}
    h &= (\underbrace{h_0}_{=1}, && h_1, &&\dotsc, &&h_d),
    f &= (\underbrace{f_{-1}}_{=1}, && f_0, &&\dotsc, &&f_{d-1}).
\end{math}
Es gilt
\begin{math}
    f_{k-1} = \sum_{i=0}^k \binom{d-i}{k-i} h_i.
\end{math}

\begin{lem}
    Der $h$-Vektor bestimmt den $f$-Vektor eindeutig und umgekehrt.
    \begin{proof}
        Definiere das $f$-Polynom und das $h$-Polynom durch
        \begin{math}
            f(x) = \sum_{i=0}^d f_{i-1} x^{d-i}
            &= \sum_{i=0}^d \sum_{j=0}^i \binom{d-j}{i-j} h_j x^{d-i} \\
            &= \sum_{j=0}^d h_j \sum_{i=j}^d \binom{d-j}{i-j} x^{d-i}
            = \sum_{j=0}^d (x+1)^{d-j}
            = h(x+1)
        \end{math}
        mit
        \begin{math}
            h(x) = \sum_{j=0}^d h_j x^{d-j}.
        \end{math}
        Daraus folgt, dass
        \begin{math}
            h(x) = f(x-1)
            &= \sum_{i=0}^d f_{i-1} (x-1)^{d-i} \\
            &= \sum_{i=0}^d f_{i-1} \sum_{j=0}^{d-i} \binom{d-i}{j} (-1)^j x^{d-i-j}
            = \sum_{k=0} h_k x^{d-k}
        \end{math}
        Koeffizientenvergleich liefert
        \begin{math}
            h_k = \sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} f_{i-1}.
        \end{math}
    \end{proof}
    \begin{note}
        Insbesondere ist der $h$-Vektor unabhängig von der Schälung.
    \end{note}
\end{lem}

\begin{kor}
    Mit $F_1, \dotsc, F_s$ ist auch $F_s, \dotsc, F_1$ eine Schälung.
    Folglich ist $h_i = h_{d-i}$ für alle $i$, der $h$-Vektor ist symmetrisch.
\end{kor}


\section[Dehn-Sommerville-Gleichungen]{Die Dehn-Sommerville-Gleichungen für den $f$-Vektor}

\paragraph{$d$ gerade}

Sei $d$ gerade, dann gilt die Euler-Gleichung
\begin{math}
    f_0 - f_1 + f_2 - f_3 + f_4 - f_5 + f_6 \dotsb - f_{d-1} &= \chi(S^{d-1}) = 0
\end{math}
Für die jede $i$-te Kante gilt die Gleichung
\begin{math}
    f_0^{(i)} - f_{1}^{(i)} + f_2^{(i)} \dotsb - f_{d-3}^{(i)} &= \chi(S^{d-3}) = 0
\end{math}
Summieren ergibt
\begin{math}
    \binom{3}{1} f_2 - \binom{4}{2} f_3 + \binom{5}{3} f_4 \dotsb - \binom{d}{d-2}f_{d-1} = 0
\end{math}
Für den Link des $i$-ten Tetraeders gilt
\begin{math}
    f_0^{(i)} - f_{1}^{(i)} + f_2^{(i)} \dotsb - f_{d-5}^{(i)} &= \chi(S^{d-5}) = 0
\end{math}
Summieren:
\begin{math}
    \binom{5}{1} f_2 - \binom{6}{2} f_3 + \binom{5}{3} f_4 \dotsb - \binom{d}{d-4} f_{d-1} = 0
\end{math}
Bis hin zu
\begin{math}
    f_0^{(i)} - f_1^{(i)} = 0
\end{math}
und
\begin{math}
    \binom{d-1}{1} f_{d-2} - \binom{d}{2} f_{d-1} = 0.
\end{math}
Alle Gleichungen entstehen durch die Euler-Gleichungen für die ungerad-dimensionalen Links.

Dies liefert $\frac{d}{2}$ Gleichungen für die $d$ Variablen $f_0, \dotsc, f_{d-1}$, bzw. für die $d$ Variablen $h_1, \dotsc, h_d$.


\paragraph{$d$ ungerade}

Es gilt
\begin{math}
    f_0 - f_1 + f_2 \dotsb + f_{d-1} = \chi(S^{d-1}) = 2.
\end{math}
Für den Link einer Ecke:
\begin{math}
    f_0^{(i)} - f_1^{(i)} + f_2^{(i)} \dotsb f_{d-2}^{(i)} &= 0 \\
    \binom{2}{1} f_1 - \binom{3}{2}f_2 + \binom{4}{3} f_3 \dotsb - \binom{d}{d-1} f_{d-1} &= 0
\end{math}
für den Link eines Dreiecks:
\begin{math}
    f_0^{(i)} - f_1^{(i)} + f_2^{(i)} \dotsb f_{d-4}^{(i)} &= 0 \\
    \binom{4}{1}f_3 - \binom{5}{2} f_4 \dotsb -\binom{d}{d-3} f_{d-1} &= 0
\end{math}
bis zu
\begin{math}
    \binom{d-1}{1} f_{d-2} - \binom{d}{2} f_{d-1} = 0
\end{math}
Wir erhalten $\frac{d+1}{2}$ Gleichungen für $d$ Variablen $f_0, \dotsc, f_{d-1}$, bzw. für $h_1, \dotsc, h_d$.

\begin{kor}
    Die Dehn-Sommerville-Gleichungen für den $f$-Vektor sind äquivalent zur Symmetrie-Bedingung $h_i = h_{d-i}$ für alle $i$ für den $h$-Vektor.
\end{kor}


\Timestamp{2015-06-10}


\begin{st}
    Für jedes simpliziale $d$-Polytop (d.h. schälbare simpliziale $(d-1)$-Sphäre) gelten die folgenden Gleichungen
    \begin{math}[numbered=multiple]
        \sum_{i=-1}^d (-1)^i f_i &= 0, && \text{wobei $f_{-1} = f_d = 1$}, \\
        \sum_{i=k+1}^d (-1)^{d-i} \binom{i}{k} f_{i-1} &= 0, && \text{für $1\le k \le d-1$ und $d-k$ gerade}, \label{eq:ds2} \\
        h_0 &= 1, \\
        h_k &= h_{d-k}.
    \end{math}
    \begin{note}
        Die Gleichungen in \eqref{eq:ds2} gelten auch für allgemeine triangulierte Mannigfaltigkeiten.
    \end{note}
\end{st}


\section{Upper-Bound-, Lower-Bound-Conjecture}

UBC, LBC liefern scharfe Schranken für den $f$-, bzw. $h$-Vektor.

Wir haben folgende triviale Schranken:
\begin{math}
    f_i \le \binom{f_i}{i}
\end{math}
Gleichheit für alle $i$ gilt nur für das $d$-Simplex.

Wir haben zwei Extremfälle:
\begin{itemize}
    \item
        Stapelpolytope:
        \begin{math}
            f_i = \binom{d}{i}n - \binom{d+1}{i+1}i
        \end{math}
        für $0 \le i \le d-2$ und $f_{d-1} = (d-1)n - (d+1)(d-2)$.

        Die Lower-Bound-Conjecture besagt nun: „Die Stapelpolytope realisieren den ‘kleinsten’ $f$-Vektor.“
    \item
        nachbarschaftliche Polytope (speziell: zyklische Polytope):
        \begin{math}
            f_0 = n, f_1 = \binom{n}{2}, \dotsc, f_{i-1} = \binom{n}{i}
        \end{math}
        für $i \le \frac{d}{2}$.

        Die Upper-Bound-Conjecture besagt nun: „Die zyklischen Polytope realisieren den ‚größten‘ $f$-Vektor ($h$-Vektor)“.
\end{itemize}


Sei $P$ ein $d$-dimensionales Stapelpolytop.
Wir berechnen den zugehörigen $h$-Vektor.

Es gilt
\begin{math}
    h_1 &= f_0 \binom{d-1}{0} - f_{-1} \binom{d}{1} &&= n - d\\
    h_2 &= f_1 \binom{d-2}{0} - f_0 \binom{d-1}{1} + f_{-1} \binom{d}{2} && \\
    &= dn - \binom{d+1}{2} -n\binom{d-1}{1} + 1\binom{d}{2} &&= n - d \\
    h_3 &= \dotso &&= n-d
\end{math}

\begin{lem}
    \begin{math}
        h_k &:= \sum_{i=0}^d (-1)^{k-i} \binom{d-i}{k-i} \underbrace{\Big( \binom{d}{i-1} n - \binom{d+1}{i}(i-1) \Big)}_{= f_{i-1}} \\
        &= n-d
    \end{math}
    für $k \le \frac{d}{2}$ (und damit auch für $k \le d-2$ nach Dehn-Sommerville).
    \begin{note}
        Wir nutzen Induktion nach $n$.
        Für $n + 1$ ergibt sich
        \begin{math}
            h_k &= \underbrace{\sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} \Big( \binom{d}{i-1}n - \binom{d+1}{i}(i-1)\Big)}_{=n-d} + \sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} \binom{d}{i-1}.
        \end{math}
        Es stellt sich also die Frage, ob $\sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} \binom{d}{i-1} = 1$ gilt.
        \begin{math}
            (-1)^{k-i} \binom{d-i}{k-i}
            = \binom{k-d-1}{k-i}
        \end{math}
        Nun gilt mit der Vandermonde-Identität
        \begin{math}
            \sum_{i=0}^k \binom{k-d-1}{k-i} \binom{d}{i-1} = \binom{k-1}{k-1} = 1.
        \end{math}
        Zum Induktionsanfang $n = d+1$ (Simplex)
        \begin{math}
            h_k &= \sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} \Big( \binom{d}{i-1} (d+1) - \binom{d+1}{i} (i-1)\Big) \\
            &= \sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} \binom{d+1}{i} \\
            &= \sum_{i=0}^k \binom{k-d-1}{k-i} \binom{d+1}{1} \\
            &= \binom{k}{k}
            = 1 = n-d.
        \end{math}
    \end{note}
\end{lem}

\begin{st}[Vandermonde-Konvolutionsformel]
    \begin{enumerate}[1)]
        \item
            \begin{math}
                \sum_{k=0}^n \binom{x}{k} \binom{y}{n-k} = \binom{x+y}{n},
            \end{math}
            wobei $n \in \N$, $x, y \in \R$.
        \item
            \begin{math}
                \sum_{k=0}^n \binom{n}{k} (x)_k (y)_{n-k} = (x+y)_{n},
            \end{math}
            wobei $(x)_ke = x(x-1) \dotsb (x-k+1)$.
    \end{enumerate}
    \begin{proof}
        Beide Aussagen sind äquivalent (Übung), wir zeigen 2).
        Für $n = 1$:
        \begin{math}
            \binom{1}{0} (x)_0 (y)_1 + \binom{1}{1} (x)_1 (y)_0 = y + x = (x+y)_1.
        \end{math}
        Von $n-1$ auf $n$:
        \begin{math}
            (x+y)_n
            &= (x+y)_{n-1} (x + y - n + 1) \\
            &= \sum_{k=0}^{n-1} \binom{n-1}{k} (x)_{k} (y)_{n-1-k} \underbrace{(x+ y -n + 1)}_{=(x-k) + (y-n+k-1)} \\
            &= \sum_{k=0}^{n-1} \binom{n-1}{k} (x)_{k} (y)_{n-k} + \sum_{k=0}^{n-1} (x)_{k+1}(y)_{n-1-k} \\
            &= \sum_{k=0}^{n} \binom{n}{k} (x)_k (y)_{n-k}.
        \end{math}
    \end{proof}
\end{st}

\Timestamp{2015-06-07}

\begin{df}
    Sei $2 \le k \le \frac{d}{2}$.
    Wir nennen ein simpliziales $d$-Polytop \emphdef[nachbarschaftlich!k-nachbarschaftlich]{$k$-nachbarschaftlich}, wenn
    \begin{math}
        f_{k-1} = \binom{f_0}{k},
    \end{math}
    d.h. je $k$ Ecken bilden eine Seite von $P$.

    Wir nennen $P$ \emphdef{nachbarschaftlich}, wenn es $k$-nachbarschaftlich ist für alle $2 \le k \le \frac{d}{2}$.
    \begin{note}
        $k$-nachbarschaftlich impliziert $l$-nachbarschaftlich für alle $l \le k$.
    \end{note}
\end{df}

\begin{ex}
    Zyklische Polytope sind nachbarschaftlich.
\end{ex}

Offenbar sind nachbarschaftliche Polytope maximal gesättigt mit Seiten der Dimension $k \le \frac{d}{2}$.
Wir vermuten, dass nachbarschaftliche Polytope auch mit Seiten der Dimension $k > \frac{d}{2}$ maximal gesättigt sind.

Die Dehn-Sommervillegleichungen liefern, dass $f_0, \dotsc, f_{\floor{\frac{d}{2} - 1}}$ den Rest bestimmen (bzw. $h_1, \dotsc, h_{\floor{\frac{d}{2} }})$.

Berechnung des $h$-Vektors für nachbarschaftliche Polytope:
Mit $n := f_0$  gilt für $k \le \frac{d}{2}$:
\begin{math}
    h_k &= \sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} f_{i-1} \\
    &= \sum_{i=0}^k (-1)^{k-i} \binom{d-i}{k-i} \binom{n}{i} \\
    &= \sum_{i=0}^k \binom{k-d-1}{k-i} \binom{n}{i} \\
    &= \binom{n+k-d-1}{k}.
\end{math}
$h_k \le \binom{n+k-d-1}{k}$ für $k > \frac{d}{2}$ ist trivial.

\begin{ex}
    Für $d = 2m$ ist $\binom{n+m+d-1}{m-1}$ der Symmetriepunkt im $h$-Vektor.
\end{ex}

Pascal-Trick für $d = 4$:
\begin{math}
    \resizebox{\textwidth}{!}{
    \begin{tabular}{ccccccccccc}
        & & & & & 1 \\
        & & & & 1 & & $h_1 + 4 = f_0$ \\
        & & & 1 & & $h_1 + 3$ & & $h_2 + 3h_1 + 6 = f_1$ \\
        & & 1 & & $h_1 + 2$ & & $h_2 + 2h_1 + 3$ & & $h_3 + 2h_2 + 3h_1 + 4 = f_2$ \\
        & 1 & & $h_1+1$ & &  $h_2 + h_1 + 1$ & & $h_3 + h_2 + h_1 + 1$ & & $h_4 + h_3 + h_2 + h_1 + 1 = f_3$ \\
        1 & & $h_1$ & & $h_2$ & & $h_3$ & & 1 & & *
    \end{tabular}
    }
\end{math}

\begin{ex}
    \begin{itemize}
        \item
            4-dimensionaler Oktaeder:
            \begin{math}
                \begin{tabular}{ccccccccccc}
                    &&&&& 1 \\
                    &&&& 1 && 8 \\
                    &&& 1 && 7  && 24 \\
                    && 1 && 6 && 17 && 32 \\
                    & 1 && 5 && 11 && 15 && 16 \\
                    1 && 4 && 6 && 4 && 1 && *
                \end{tabular}
            \end{math}
        \item
            3-dimensionaler Oktaeder:
            \begin{math}
                \begin{tabular}{ccccccccc}
                    &&&& 1 \\
                    &&& 1 && 6 \\
                    && 1 &&  5 && 12 \\
                    & 1 && 4 && 7 && 8 \\
                    1 && 3 && 3 && 1 && *
                \end{tabular}
            \end{math}
        \item
            5-dimensionales Oktaeder
            \begin{math}
                \begin{tabular}{ccccccccccccc}
                    &&&&&& 1 \\
                    &&&&& 1 && 10 \\
                    &&&& 1 && 9 && 40 \\
                    &&& 1 && 8 && 31 && 80 \\
                    && 1 && 7 && 23 && 49 && 80 \\
                    & 1 && 6 && 16 && 26 && 31 && 32 \\
                    1 && 5 && 10 && 10 && 5 && 1 && *
                \end{tabular}
            \end{math}
    \end{itemize}
    Stapelpolytope und nachbarschaftliche Polytope bilden sozusagen die untere und obere Grenze für $f$- und $h$-Vektor.
    Dies ist die Upper-, bzw. Lower-Bound-Conjecture.
\end{ex}

\begin{thm}[Upper Bound Theorem, UBT]
    $P$ sei ein (nicht notwendig simplizial) $d$-Polytop mit $n$ Ecken, dann gilt für alle $k$
    \begin{math}
        f_{k-1} \le f_{k-1}(C(d,n)),
    \end{math}
    wobei $C(d,n)$ das zyklische Polytop der Dimension $d$ mit $n$ Ecken darstellt.
    Gleichheit für ein $d > k \ge \floor{\frac{d}{2}}$ genau dann, wenn $P$ simplizial und nachbarschaftlich ist.

    \begin{note}
        Ist $P$ nicht simplizial, so existiert ein simpliziales Polytop $P'$ mit $n$ Ecken und $f_{k-1}(P) \le f_{k-1}(P')$.
    \end{note}
    \begin{proof}[nur für simpliziale $P$]
        Wir zeigen: Sei $P$ simplizial, dann gilt
        \begin{math} \label{eq:ubt_1}
            h_k(P) \le \binom{n-d+k-1}{k}
        \end{math}
        mit Gleichheit für alle $k$ mit $k \le l$ genau dann, wenn $l \le \frac{d}{2}$ und $P$ $l$-nachbarschaftlich (d.h. $f_{l-1} = \binom{n}{l}$.

        Um \eqref{eq:ubt_1} zu zeigen nutzen wir Induktion und zeigen für den Induktionsschritt:
        \begin{math} \label{eq:ubt_ind}
            (k+1) h_{h+1} \le (n-d+k) h_k
        \end{math}
        Verwende eine Schälung $F_1, \dotsc, F_s$ von $P$.

        Betrachte das nachfolgende Lemma.
        Wir behaupten
        \begin{math}[numbered=multiple] \label{eq:ubt_bh1}
            \sum_{\text{$v$ Ecke von $C$}} h_k(C / v) = (k+1) h_{k+1}(C) + (d-k) h_k(C). \tag{B1}
        \end{math}
        und für alle Ecken $v$ von $C$
        \begin{math}[numbered=multiple] \label{eq:ubt_bh2}
            h_k(C/v) \le h_k(C), \tag{B2}
        \end{math}
        also insbesondere $\sum_{v} h_k(C/v) \le n h_k(C)$.

        \eqref{eq:ubt_bh1} und \eqref{eq:ubt_bh2} liefern
        \begin{math}
            n h_k(C)
            \ge \sum_{v} h_k(C/v)
            = (k+1) h_{k+1}(C) + (d-k) h_k(C)
        \end{math}
        und implizieren \eqref{eq:ubt_ind}.
        \begin{seg}{Beweis von \eqref{eq:ubt_bh1}}
            Gilt für $P = \Delta^d$ ($d$-Simplex) mit $d+1$ Ecken, jeder Link ist Rand eines $d$-Simplex, also $h(C) = \Vector{1 & \dots & 1}$ (Stapel).
            Rechte und linke Seite sind $d+1$.

            Die Behauptung gelte für $F_1 \cup \dotsb \cup F_{j-1}$, $F_j$ wird hinzugefügt.
            Falls $v \not\in F_j$, ändert sich nichts.
            Interessant: $v \in F_j$.
            $h_k$ beschreibt die Anzahl der $R_j$ mit $|R_j| = k$, $R_j \subset F_j$, $|F_j| = d$.
            Zwei Fälle: $v \in R_j$ oder $v \not\in R_j$.

            Für $v \not\in R_j$: neue Seite der Größe $|R_j|$ im Link von $v$, also $h_k(C/v)$ steigt um $1$, wenn $|R_j| = k$.
            Betrag auf der linken Seite ist $|F_j \setminus R_j| = d - k$.
            $h_k(C)$ steigt um $1$ auf der rechten Seite.
            Gleichheit bleibt erhalten.

            $v \in R_j$ verläuft ähnlich: $h_k(C/v)$ steigt um $1$, wenn $|R_j| = k + 1$.
            Betrag auf den linken Seite ist $k+1$, $h_{k+1}(C)$ steigt um $1$ auf der rechten Seite.
            Gleichheit bleibt erhalten.
        \end{seg}
        \begin{seg}{Beweis von \eqref{eq:ubt_bh2}}
            Betrachte die Schälung, die im Stern von $v$ beginnt (d.h. $v \in F_1, \dotsc, F_r$, $v \not\in F_{r+1}, \dotsc, F_s$).

            $h_k$ ist die Anzahl der $R_j$ mit $|R_j| = k$, wobei
            \begin{math}
                R_j := \Set{w \in F_j & \exists i <j :F_j \setminus \Set w \subset F_i}.
            \end{math}
            Falls $j \le r$, $v \in F_i, \dotsc, F_j$, dann ist
            \begin{math}
                R_j^C = \Set{w \in F_j & \exists i < j : F_j \setminus \Set w \subset F_i}
            \end{math}
            also $v \not\in R_j^C$, sonst $F_j = F_i$.
            Jedes $w \in R_j^C$ ist aber auch in $R_j^{C/v}$, also $|R_j^C| = |R_j^{C/v}|$.
            Folglich wächst $h_k(C/v)$ genauso, wie $h_k(C)$ durch den $j$-ten Schälschritt.

            Falls $j \ge r + 1$, $v \not\in F_j$, dann ist $v \not\in R_j^C$ und $v \not\in R_j^{C/v}$.
            In diesem Schälschritt ändert sich $h_k(C/v)$ nicht, $h_k(C)$ kann wachsen.
            Die Ungleichung bleibt also erhalten.

            Gleichheitdiskussion: $h_k(C/v) = h_k(C)$ für alle $v$ und alle $0 \le k \le l$ (festes $l$).
            Bei jedem Schälungsschritt $F_j$ ist entweder $v \in F_j$ oder $v \not\in F_j$ und $|R_j^C| \ge l + 1$.
            Was bedeutet das für „minimale neue Seiten“?
            Ein neues minimales $k$-Tupel mit $k \le l$ kommt nicht hinzu, also liegen alle $l$-Tupel bereits im Stern von $v$.
            Somit gilt $l$-Nachbarschaftlichkeit (geht nur für $l \le \frac{d}{2}$).
        \end{seg}
    \end{proof}
\end{thm}

\begin{lem}
    Eine Schälung von $\Boundary P =: C$ induziert auf jedem Link $C / v$ einer Ecke eine Schälung.
    \begin{proof}
        Sei $F_1, \dotsc, F_s$ eine Schälung von $\Boundary P$ und wähle eine Ecke $v$ fest.
        $v$ ist enthalten in $F_{j_1}, \dotsc, F_{j_r}$ in aufsteigender Zählung $j_1 < j_2 < \dotsb < j_r$.
        Setze $G_{j_i}$ so, dass $F_{j_i} = G_{j_i} \cup \Set{v}$.
        Ist $G_{j_1}, \dotsc, G_{j_i}$ eine Schälung?
        Betrachte
        \begin{math}
            G_{j_k} \cap (G_{j_1} \cup \dotsb \cup G_{j_{k-1}}) \cup \Set{v}
            &= F_{j_k} \cap (F_{j_1} \cup \dotsb \cup F_{j_{k-1}}) \\
            &\subset F_{j_k} \cap (F_1 \cup \dotsb \cup F_{j_{k-1}})
        \end{math}
        Die rechte Seite ist ein $(d-1)$-dimensionaler Ball und enthält $v$.
        Die linke Seite ist ein $(d-2)$-dimnesionaler Ball und ist im Link von $v$ enthalten.
    \end{proof}
\end{lem}

\Timestamp{2015-06-24}

Wir sprechen von \emphdef{nachbarschaftlich}, wenn wir $l$-nachbarschaftlich für alle $l \le \frac{d}{2}$ meinen.

\begin{kor}
    Sei $P$ ein $d$-Polytop mit $n$ Ecken, dann gilt für alle $k$
    \begin{math}
        f_{k-1}(P) \le f_{k-1}(C(d,n)).
    \end{math}
    mit Gleichheit für ein $k$ mit $\frac{d}{2} \le k \le d$ genau dann, wenn $P$ nachbarschaftlich ist.
    \begin{proof}
        Die Ungleichungen für $h_i$ implizieren Ungleichungen für $f_{k-1}$:
        \begin{math}
            f_{k-1} &= \sum_{i=0}^k \binom{d-i}{k-i} h_i \\
            &= \sum_{i\le \frac{d}{2}}^* \binom{d-i}{k-i} h_i + \sum_{i\ge \frac{d}{2}}^* \binom{d-i}{k-i} h_i \\
            &\stack{j=d-i}= \sum_{i \le \frac{d}{2}}^* \binom{d-i}{k-i} h_i + \sum_{j\le \frac{d}{2}}^* \binom{j}{k-d+j} h_j \\
            &\le \sum_{i \le \frac{d}{2}}^* \Big( \binom{d-i}{k-i} + \binom{i}{k-d+i} \Big) \underbrace{\binom{n-d+i-1}{i}}_{h_i(C(d,n))}.
        \end{math}
        ($\sum^*$ bedeutet: für gerades $d$ ist der Beitrag für $i = \frac{d}{2}$ zu halbieren).

        Gleichheit für $k \le \frac{d}{2}$ gilt für nachbarschaftliche Polytope.
        Für $k > \frac{d}{2}$ gilt dies auch (dank Dehn-Sommerville).

        Es gilt $f_{k-1} \le f_{k-1}(C(d,n))$ für alle $k$.
        %Gleichheit für ein $k$ mit $k \ge \frac{d}{2}$ impliziert Gleichheit bei $h_
    \end{proof}
\end{kor}


\section{Das Lower-Bound-Theorem (LBT)}

Ziel: Stapelpolytope realisieren den kleinstmöglichen $f$-Vektor (und $h$-Vektor).
\begin{math}
    h(S) = (1, n-d, n-d, \dotsc, n-d, 1)
\end{math}

\begin{df}
    Der $g$-Vektor ist erklärt durch
    \begin{math}
        g_0 &= 1, \\
        g_{d+1} &= -1, \\
        g_k &= h_k - h_{k-1}.
    \end{math}
\end{df}

Für ein Stapelpolytop ist also
\begin{math}
    g(S) &= (1, n-(d+1), 0, \dotsc, 0, d+1-n, -1).
\end{math}
Für ein nachbarschaftliches Polytop ist für $k \le \frac{d}{2}$
\begin{math}
    g_k
    = \binom{n-d+k-1}{k} - \binom{n-d+k-2}{k-1}
    = \binom{n-d+k-2}{k}.
\end{math}

\begin{st}
    Sei $P$ ein simpliziales $d$-Polytop mit $n$ Ecken.
    Dann gilt:
    \begin{enumerate}[(i)]
        \item
            $h_1 = n-d$ und $g_1 = n-(d+1)$,
        \item
            $0 \le g_k \le \binom{n-d+k-2}{k}$ für alle $k \le \frac{d}{2}$,
        \item
            UBT: $\forall k \le \frac{d}{2} : g_k = \binom{n-d+k-2}{k} \implies$ nachbarschaftlich,
        \item
            LBT: $g_k = 0$ für $2 \le k \le \frac{d}{2}$ impliziert Stapelpolytop (es genügt sogar $g_2 = 0$)
    \end{enumerate}
    \begin{proof}
        siehe Blind, Shellings and the LBT, Discrete and Computational Geometry.

        Was bedeutet $g_2 = 0$?
        \begin{math}
            g_k \le \frac{n-d+k-2}{k}
        \end{math}
        folgt induktiv aus der Pascalschen Regel.
        $g_k \ge 0$: McMullen's conditions.

        $g_2 = 0$ genau dann, wenn $h_2 = h_1 = n-d$.
        \begin{math}
            n-d = h_2
            &= \binom{d-2}{0} f_1 - \binom{d-1}{1} f_0 + \binom{d}{2} f_{-1}
            &= f_1 - (d-1) n + \frac{1}{2} d(d-1),
        \end{math}
        also
        \begin{math}
            f_1 &= n-d + (d-1)n - \frac{1}{2} d(d-1) \\
            &= dn - d - \frac{1}{2}d(d-1) \\
            &= dn - \binom{d+1}{2} \\
            &= f_1(S)
        \end{math}
        für ein Stapelpolytop $S$ mit $n$ Ecken.
    \end{proof}
\end{st}








